(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_LoggerJs=require("./Logger.js"),_LoggerJs2=_interopRequireDefault(_LoggerJs),EventDispatcher=function(){function e(){_classCallCheck(this,e),this.listeners=new Map,this.eventsRunning=0,this.logger=_LoggerJs2["default"]}return _createClass(e,[{key:"on",value:function(e,t){this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t)}},{key:"trigger",value:function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);this.log('event: "'+e+'" called with args:',t);var r=0;if(this.listeners.has(e)){r=this.listeners.get(e).length,this.eventsRunning++;var s=!0,a=!1,i=void 0;try{for(var o,u=this.listeners.get(e)[Symbol.iterator]();!(s=(o=u.next()).done);s=!0){var l=o.value;l.apply(void 0,t)}}catch(g){a=!0,i=g}finally{try{!s&&u["return"]&&u["return"]()}finally{if(a)throw i}}this.eventsRunning--}this.log('event: "'+e+'", called: '+r+" time(s)"),0===this.eventsRunning&&this.log()}},{key:"forward",value:function(e,t){var n=this;this.on(e,function(){for(var e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);n.trigger.apply(n,[t].concat(e))})}},{key:"getListeners",value:function(e){return this.listeners.get(e)}},{key:"off",value:function(e){this.listeners.set(e,[])}},{key:"reset",value:function(){this.listeners=new Map}},{key:"log",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=_LoggerJs2["default"].createTabs(this.eventsRunning);t?_LoggerJs2["default"].info.apply(_LoggerJs2["default"],[n+e].concat(_toConsumableArray(t))):_LoggerJs2["default"].info(n+e)}}]),e}();exports["default"]=EventDispatcher,module.exports=exports["default"];

},{"./Logger.js":2}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Logger={logLevel:"info",info:function(){if("info"==this.logLevel){for(var e=[],o=0;o<arguments.length;o++)e.push(arguments[o]);console.log.apply(console,["info:"].concat(e))}},createTabs:function(e){for(var o="",t="    ",r=0;e>r;r++)o+=t;return o},setLevel:function(e){this.logLevel=e}};exports["default"]=Logger,module.exports=exports["default"];

},{}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _EventDispatcherJs=require("./EventDispatcher.js"),_EventDispatcherJs2=_interopRequireDefault(_EventDispatcherJs);exports["default"]=angular.module("angular-event-dispatcher",[]).factory("EventDispatcher",function(){return new _EventDispatcherJs2["default"]}),module.exports=exports["default"];

},{"./EventDispatcher.js":1}]},{},[3])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS9tYW51L1dlYnN0b3JtUHJvamVjdHMvYW5ndWxhci1ldmVudC1kaXNwYXRjaGVyL3NyYy9FdmVudERpc3BhdGNoZXIuanMiLCIvaG9tZS9tYW51L1dlYnN0b3JtUHJvamVjdHMvYW5ndWxhci1ldmVudC1kaXNwYXRjaGVyL3NyYy9Mb2dnZXIuanMiLCIvaG9tZS9tYW51L1dlYnN0b3JtUHJvamVjdHMvYW5ndWxhci1ldmVudC1kaXNwYXRjaGVyL3NyYy9hbmd1bGFyLWV2ZW50LWRpc3BhdGNoZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7eXBCQ0FtQiw0REFFYixnQkFBZSxXQUNOLFFBRFQsMEJBQUEsR0FFRSxLQUFLLFVBQVksR0FBSSxLQUNyQixLQUFLLGNBQWdCLEVBQ3JCLEtBQUssT0FBTSxXQUFBLCtCQUpiLG1CQU9BLFNBQUMsRUFBTyxHQUNELEtBQUssVUFBVSxJQUFJLElBQ3BCLEtBQUssVUFBVSxJQUFJLE1BRXZCLEtBQUssVUFBVSxJQUFJLEdBQU8sS0FBSywwQkFHNUIsU0FBQyxHQUVKLElBQUksR0FEQSxNQUNJLEVBQUUsRUFBRyxFQUFFLFVBQVUsT0FBUSxJQUM3QixFQUFLLEtBQUssVUFBVSxHQUd4QixNQUFLLElBQUksV0FBYSxFQUFRLHNCQUF1QixFQUVyRCxJQUFJLEdBQWMsQ0FDbEIsSUFBRyxLQUFLLFVBQVUsSUFBSSxHQUFRLENBQzFCLEVBQWMsS0FBSyxVQUFVLElBQUksR0FBTyxPQUN4QyxLQUFLLDJDQUNMLElBQUEsR0FBOEMsR0FBOUMsRUFBcUIsS0FBSyxVQUFVLElBQUksR0FBTSxPQUFBLGNBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxNQUFBLEdBQUEsRUFBRSxJQUF2QyxHQUFRLEVBQUEsS0FDYixHQUFRLE1BQUEsT0FBSSx1RkFFaEIsS0FBSyxnQkFHVCxLQUFLLElBQUksV0FB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VSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN6RCxnQkFBRyxJQUFJLEVBQUU7QUFDTCxzQ0FBTyxJQUFJLE1BQUEseUJBQUMsWUFBWSxHQUFHLE9BQU8sNEJBQUssSUFBSSxHQUFDLENBQUM7YUFDaEQsTUFDSTtBQUNELHNDQUFPLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLENBQUM7YUFDdkM7U0FDSjs7O1dBekVDLGVBQWU7OztxQkE0RU4sZUFBZSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgTG9nZ2VyIGZyb20gJy4vTG9nZ2VyLmpzJztcblxuY2xhc3MgRXZlbnREaXNwYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzUnVubmluZyA9IDA7XG4gICAgICAgIHRoaXMubG9nZ2VyID0gTG9nZ2VyO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIXRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnNldChldmVudCwgW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkucHVzaChjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdHJpZ2dlcihldmVudCkge1xuICAgICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgICBmb3IobGV0IGk9MTsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2coJ2V2ZW50OiBcIicgKyBldmVudCArICdcIiBjYWxsZWQgd2l0aCBhcmdzOicsIGFyZ3MpO1xuXG4gICAgICAgIGxldCBuYkxpc3RlbmVycyA9IDA7XG4gICAgICAgIGlmKHRoaXMubGlzdGVuZXJzLmhhcyhldmVudCkpIHtcbiAgICAgICAgICAgIG5iTGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KS5sZW5ndGg7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1J1bm5pbmcrKztcbiAgICAgICAgICAgIGZvciAobGV0IGxpc3RlbmVyIG9mIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRzUnVubmluZy0tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2coJ2V2ZW50OiBcIicgKyBldmVudCArICdcIiwgY2FsbGVkOiAnICsgbmJMaXN0ZW5lcnMgKyAnIHRpbWUocyknKTtcblxuICAgICAgICBpZih0aGlzLmV2ZW50c1J1bm5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMubG9nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3J3YXJkIChldmVudCwgZXZlbnRUb0ZvcndhcmRUbykge1xuICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgLy8gQ2FuJ3QgdXNlIGFycm93IGZ1bmN0aW9uIGhlcmUsIGJlY2F1c2Ugd2UgbmVlZCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICB0aGlzLm9uKGV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IobGV0IGk9MDsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZi50cmlnZ2VyKGV2ZW50VG9Gb3J3YXJkVG8sIC4uLmFyZ3MpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldExpc3RlbmVycyhldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBbXSk7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGxvZyhtZXNzYWdlPScnLCBhcmdzPXVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc3BhY2VzQmVmb3JlID0gTG9nZ2VyLmNyZWF0ZVRhYnModGhpcy5ldmVudHNSdW5uaW5nKTtcbiAgICAgICAgaWYoYXJncykge1xuICAgICAgICAgICAgTG9nZ2VyLmluZm8oc3BhY2VzQmVmb3JlICsgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBMb2dnZXIuaW5mbyhzcGFjZXNCZWZvcmUgKyBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnREaXNwYXRjaGVyOyIsImxldCBMb2dnZXIgPSB7XG4gICAgbG9nTGV2ZWw6ICdpbmZvJyxcblxuICAgIGluZm8gKCl7XG4gICAgICAgIGlmKHRoaXMubG9nTGV2ZWwgPT0gJ2luZm8nKSB7XG4gICAgICAgICAgICBsZXQgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yKGxldCBpPTA7IGk8YXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmZvOicsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVRhYnMgKG5iVGFicykge1xuICAgICAgICB2YXIgdGFicyA9IFwiXCI7XG4gICAgICAgIHZhciBzcGFjZXMgPSBcIiAgICBcIjtcbiAgICAgICAgZm9yKHZhciBpPTA7IGk8bmJUYWJzOyBpKyspIHtcbiAgICAgICAgICAgIHRhYnMgKz0gc3BhY2VzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWJzO1xuICAgIH0sXG5cbiAgICBzZXRMZXZlbChsZXZlbCl7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsZXZlbDtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dnZXI7IiwiaW1wb3J0IEV2ZW50RGlzcGF0Y2hlciBmcm9tICcuL0V2ZW50RGlzcGF0Y2hlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyLWV2ZW50LWRpc3BhdGNoZXInLCBbXSlcbiAgICAuZmFjdG9yeSgnRXZlbnREaXNwYXRjaGVyJywgKCkgPT4gbmV3IEV2ZW50RGlzcGF0Y2hlcilcbjsiXX0=
